var k=Object.defineProperty;var J=(r,e)=>{for(var n in e)k(r,n,{get:e[n],enumerable:!0})};var F=1e-6,q=typeof Float32Array<"u"?Float32Array:Array;var Z1=Math.PI/180,Q1=180/Math.PI;var B={};J(B,{add:()=>B1,adjoint:()=>n1,clone:()=>_,copy:()=>t,create:()=>$,decompose:()=>L1,determinant:()=>a1,equals:()=>U1,exactEquals:()=>G1,frob:()=>Y1,fromQuat:()=>P1,fromQuat2:()=>b1,fromRotation:()=>p1,fromRotationTranslation:()=>j,fromRotationTranslationScale:()=>R1,fromRotationTranslationScaleOrigin:()=>A1,fromScaling:()=>f1,fromTranslation:()=>h1,fromValues:()=>o,fromXRotation:()=>m1,fromYRotation:()=>l1,fromZRotation:()=>y1,frustum:()=>d1,getRotation:()=>E1,getScaling:()=>H,getTranslation:()=>z1,identity:()=>V,invert:()=>e1,lookAt:()=>I1,mul:()=>W1,multiply:()=>g,multiplyScalar:()=>q1,multiplyScalarAndAdd:()=>D1,ortho:()=>w1,orthoNO:()=>Z,orthoZO:()=>N1,perspective:()=>T1,perspectiveFromFieldOfView:()=>O1,perspectiveNO:()=>X,perspectiveZO:()=>S1,rotate:()=>s1,rotateX:()=>x1,rotateY:()=>M1,rotateZ:()=>c1,scale:()=>i1,set:()=>u,str:()=>F1,sub:()=>V1,subtract:()=>Q,targetTo:()=>C1,translate:()=>v1,transpose:()=>r1});function $(){var r=new q(16);return q!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function _(r){var e=new q(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function t(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function o(r,e,n,a,v,i,s,x,c,M,h,p,m,l,y,b){var f=new q(16);return f[0]=r,f[1]=e,f[2]=n,f[3]=a,f[4]=v,f[5]=i,f[6]=s,f[7]=x,f[8]=c,f[9]=M,f[10]=h,f[11]=p,f[12]=m,f[13]=l,f[14]=y,f[15]=b,f}function u(r,e,n,a,v,i,s,x,c,M,h,p,m,l,y,b,f){return r[0]=e,r[1]=n,r[2]=a,r[3]=v,r[4]=i,r[5]=s,r[6]=x,r[7]=c,r[8]=M,r[9]=h,r[10]=p,r[11]=m,r[12]=l,r[13]=y,r[14]=b,r[15]=f,r}function V(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function r1(r,e){if(r===e){var n=e[1],a=e[2],v=e[3],i=e[6],s=e[7],x=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=n,r[6]=e[9],r[7]=e[13],r[8]=a,r[9]=i,r[11]=e[14],r[12]=v,r[13]=s,r[14]=x}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}function e1(r,e){var n=e[0],a=e[1],v=e[2],i=e[3],s=e[4],x=e[5],c=e[6],M=e[7],h=e[8],p=e[9],m=e[10],l=e[11],y=e[12],b=e[13],f=e[14],A=e[15],d=n*x-a*s,R=n*c-v*s,z=n*M-i*s,E=a*c-v*x,L=a*M-i*x,O=v*M-i*c,T=h*b-p*y,w=h*f-m*y,P=h*A-l*y,N=p*f-m*b,I=p*A-l*b,C=m*A-l*f,S=d*C-R*I+z*N+E*P-L*w+O*T;return S?(S=1/S,r[0]=(x*C-c*I+M*N)*S,r[1]=(v*I-a*C-i*N)*S,r[2]=(b*O-f*L+A*E)*S,r[3]=(m*L-p*O-l*E)*S,r[4]=(c*P-s*C-M*w)*S,r[5]=(n*C-v*P+i*w)*S,r[6]=(f*z-y*O-A*R)*S,r[7]=(h*O-m*z+l*R)*S,r[8]=(s*I-x*P+M*T)*S,r[9]=(a*P-n*I-i*T)*S,r[10]=(y*L-b*z+A*d)*S,r[11]=(p*z-h*L-l*d)*S,r[12]=(x*w-s*N-c*T)*S,r[13]=(n*N-a*w+v*T)*S,r[14]=(b*R-y*E-f*d)*S,r[15]=(h*E-p*R+m*d)*S,r):null}function n1(r,e){var n=e[0],a=e[1],v=e[2],i=e[3],s=e[4],x=e[5],c=e[6],M=e[7],h=e[8],p=e[9],m=e[10],l=e[11],y=e[12],b=e[13],f=e[14],A=e[15],d=n*x-a*s,R=n*c-v*s,z=n*M-i*s,E=a*c-v*x,L=a*M-i*x,O=v*M-i*c,T=h*b-p*y,w=h*f-m*y,P=h*A-l*y,N=p*f-m*b,I=p*A-l*b,C=m*A-l*f;return r[0]=x*C-c*I+M*N,r[1]=v*I-a*C-i*N,r[2]=b*O-f*L+A*E,r[3]=m*L-p*O-l*E,r[4]=c*P-s*C-M*w,r[5]=n*C-v*P+i*w,r[6]=f*z-y*O-A*R,r[7]=h*O-m*z+l*R,r[8]=s*I-x*P+M*T,r[9]=a*P-n*I-i*T,r[10]=y*L-b*z+A*d,r[11]=p*z-h*L-l*d,r[12]=x*w-s*N-c*T,r[13]=n*N-a*w+v*T,r[14]=b*R-y*E-f*d,r[15]=h*E-p*R+m*d,r}function a1(r){var e=r[0],n=r[1],a=r[2],v=r[3],i=r[4],s=r[5],x=r[6],c=r[7],M=r[8],h=r[9],p=r[10],m=r[11],l=r[12],y=r[13],b=r[14],f=r[15],A=e*s-n*i,d=e*x-a*i,R=n*x-a*s,z=M*y-h*l,E=M*b-p*l,L=h*b-p*y,O=e*L-n*E+a*z,T=i*L-s*E+x*z,w=M*R-h*d+p*A,P=l*R-y*d+b*A;return c*O-v*T+f*w-m*P}function g(r,e,n){var a=e[0],v=e[1],i=e[2],s=e[3],x=e[4],c=e[5],M=e[6],h=e[7],p=e[8],m=e[9],l=e[10],y=e[11],b=e[12],f=e[13],A=e[14],d=e[15],R=n[0],z=n[1],E=n[2],L=n[3];return r[0]=R*a+z*x+E*p+L*b,r[1]=R*v+z*c+E*m+L*f,r[2]=R*i+z*M+E*l+L*A,r[3]=R*s+z*h+E*y+L*d,R=n[4],z=n[5],E=n[6],L=n[7],r[4]=R*a+z*x+E*p+L*b,r[5]=R*v+z*c+E*m+L*f,r[6]=R*i+z*M+E*l+L*A,r[7]=R*s+z*h+E*y+L*d,R=n[8],z=n[9],E=n[10],L=n[11],r[8]=R*a+z*x+E*p+L*b,r[9]=R*v+z*c+E*m+L*f,r[10]=R*i+z*M+E*l+L*A,r[11]=R*s+z*h+E*y+L*d,R=n[12],z=n[13],E=n[14],L=n[15],r[12]=R*a+z*x+E*p+L*b,r[13]=R*v+z*c+E*m+L*f,r[14]=R*i+z*M+E*l+L*A,r[15]=R*s+z*h+E*y+L*d,r}function v1(r,e,n){var a=n[0],v=n[1],i=n[2],s,x,c,M,h,p,m,l,y,b,f,A;return e===r?(r[12]=e[0]*a+e[4]*v+e[8]*i+e[12],r[13]=e[1]*a+e[5]*v+e[9]*i+e[13],r[14]=e[2]*a+e[6]*v+e[10]*i+e[14],r[15]=e[3]*a+e[7]*v+e[11]*i+e[15]):(s=e[0],x=e[1],c=e[2],M=e[3],h=e[4],p=e[5],m=e[6],l=e[7],y=e[8],b=e[9],f=e[10],A=e[11],r[0]=s,r[1]=x,r[2]=c,r[3]=M,r[4]=h,r[5]=p,r[6]=m,r[7]=l,r[8]=y,r[9]=b,r[10]=f,r[11]=A,r[12]=s*a+h*v+y*i+e[12],r[13]=x*a+p*v+b*i+e[13],r[14]=c*a+m*v+f*i+e[14],r[15]=M*a+l*v+A*i+e[15]),r}function i1(r,e,n){var a=n[0],v=n[1],i=n[2];return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*a,r[4]=e[4]*v,r[5]=e[5]*v,r[6]=e[6]*v,r[7]=e[7]*v,r[8]=e[8]*i,r[9]=e[9]*i,r[10]=e[10]*i,r[11]=e[11]*i,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function s1(r,e,n,a){var v=a[0],i=a[1],s=a[2],x=Math.sqrt(v*v+i*i+s*s),c,M,h,p,m,l,y,b,f,A,d,R,z,E,L,O,T,w,P,N,I,C,S,Y;return x<F?null:(x=1/x,v*=x,i*=x,s*=x,c=Math.sin(n),M=Math.cos(n),h=1-M,p=e[0],m=e[1],l=e[2],y=e[3],b=e[4],f=e[5],A=e[6],d=e[7],R=e[8],z=e[9],E=e[10],L=e[11],O=v*v*h+M,T=i*v*h+s*c,w=s*v*h-i*c,P=v*i*h-s*c,N=i*i*h+M,I=s*i*h+v*c,C=v*s*h+i*c,S=i*s*h-v*c,Y=s*s*h+M,r[0]=p*O+b*T+R*w,r[1]=m*O+f*T+z*w,r[2]=l*O+A*T+E*w,r[3]=y*O+d*T+L*w,r[4]=p*P+b*N+R*I,r[5]=m*P+f*N+z*I,r[6]=l*P+A*N+E*I,r[7]=y*P+d*N+L*I,r[8]=p*C+b*S+R*Y,r[9]=m*C+f*S+z*Y,r[10]=l*C+A*S+E*Y,r[11]=y*C+d*S+L*Y,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}function x1(r,e,n){var a=Math.sin(n),v=Math.cos(n),i=e[4],s=e[5],x=e[6],c=e[7],M=e[8],h=e[9],p=e[10],m=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=i*v+M*a,r[5]=s*v+h*a,r[6]=x*v+p*a,r[7]=c*v+m*a,r[8]=M*v-i*a,r[9]=h*v-s*a,r[10]=p*v-x*a,r[11]=m*v-c*a,r}function M1(r,e,n){var a=Math.sin(n),v=Math.cos(n),i=e[0],s=e[1],x=e[2],c=e[3],M=e[8],h=e[9],p=e[10],m=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=i*v-M*a,r[1]=s*v-h*a,r[2]=x*v-p*a,r[3]=c*v-m*a,r[8]=i*a+M*v,r[9]=s*a+h*v,r[10]=x*a+p*v,r[11]=c*a+m*v,r}function c1(r,e,n){var a=Math.sin(n),v=Math.cos(n),i=e[0],s=e[1],x=e[2],c=e[3],M=e[4],h=e[5],p=e[6],m=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=i*v+M*a,r[1]=s*v+h*a,r[2]=x*v+p*a,r[3]=c*v+m*a,r[4]=M*v-i*a,r[5]=h*v-s*a,r[6]=p*v-x*a,r[7]=m*v-c*a,r}function h1(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function f1(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function p1(r,e,n){var a=n[0],v=n[1],i=n[2],s=Math.sqrt(a*a+v*v+i*i),x,c,M;return s<F?null:(s=1/s,a*=s,v*=s,i*=s,x=Math.sin(e),c=Math.cos(e),M=1-c,r[0]=a*a*M+c,r[1]=v*a*M+i*x,r[2]=i*a*M-v*x,r[3]=0,r[4]=a*v*M-i*x,r[5]=v*v*M+c,r[6]=i*v*M+a*x,r[7]=0,r[8]=a*i*M+v*x,r[9]=v*i*M-a*x,r[10]=i*i*M+c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function m1(r,e){var n=Math.sin(e),a=Math.cos(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function l1(r,e){var n=Math.sin(e),a=Math.cos(e);return r[0]=a,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function y1(r,e){var n=Math.sin(e),a=Math.cos(e);return r[0]=a,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function j(r,e,n){var a=e[0],v=e[1],i=e[2],s=e[3],x=a+a,c=v+v,M=i+i,h=a*x,p=a*c,m=a*M,l=v*c,y=v*M,b=i*M,f=s*x,A=s*c,d=s*M;return r[0]=1-(l+b),r[1]=p+d,r[2]=m-A,r[3]=0,r[4]=p-d,r[5]=1-(h+b),r[6]=y+f,r[7]=0,r[8]=m+A,r[9]=y-f,r[10]=1-(h+l),r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function b1(r,e){var n=new q(3),a=-e[0],v=-e[1],i=-e[2],s=e[3],x=e[4],c=e[5],M=e[6],h=e[7],p=a*a+v*v+i*i+s*s;return p>0?(n[0]=(x*s+h*a+c*i-M*v)*2/p,n[1]=(c*s+h*v+M*a-x*i)*2/p,n[2]=(M*s+h*i+x*v-c*a)*2/p):(n[0]=(x*s+h*a+c*i-M*v)*2,n[1]=(c*s+h*v+M*a-x*i)*2,n[2]=(M*s+h*i+x*v-c*a)*2),j(r,e,n),r}function z1(r,e){return r[0]=e[12],r[1]=e[13],r[2]=e[14],r}function H(r,e){var n=e[0],a=e[1],v=e[2],i=e[4],s=e[5],x=e[6],c=e[8],M=e[9],h=e[10];return r[0]=Math.sqrt(n*n+a*a+v*v),r[1]=Math.sqrt(i*i+s*s+x*x),r[2]=Math.sqrt(c*c+M*M+h*h),r}function E1(r,e){var n=new q(3);H(n,e);var a=1/n[0],v=1/n[1],i=1/n[2],s=e[0]*a,x=e[1]*v,c=e[2]*i,M=e[4]*a,h=e[5]*v,p=e[6]*i,m=e[8]*a,l=e[9]*v,y=e[10]*i,b=s+h+y,f=0;return b>0?(f=Math.sqrt(b+1)*2,r[3]=.25*f,r[0]=(p-l)/f,r[1]=(m-c)/f,r[2]=(x-M)/f):s>h&&s>y?(f=Math.sqrt(1+s-h-y)*2,r[3]=(p-l)/f,r[0]=.25*f,r[1]=(x+M)/f,r[2]=(m+c)/f):h>y?(f=Math.sqrt(1+h-s-y)*2,r[3]=(m-c)/f,r[0]=(x+M)/f,r[1]=.25*f,r[2]=(p+l)/f):(f=Math.sqrt(1+y-s-h)*2,r[3]=(x-M)/f,r[0]=(m+c)/f,r[1]=(p+l)/f,r[2]=.25*f),r}function L1(r,e,n,a){e[0]=a[12],e[1]=a[13],e[2]=a[14];var v=a[0],i=a[1],s=a[2],x=a[4],c=a[5],M=a[6],h=a[8],p=a[9],m=a[10];n[0]=Math.sqrt(v*v+i*i+s*s),n[1]=Math.sqrt(x*x+c*c+M*M),n[2]=Math.sqrt(h*h+p*p+m*m);var l=1/n[0],y=1/n[1],b=1/n[2],f=v*l,A=i*y,d=s*b,R=x*l,z=c*y,E=M*b,L=h*l,O=p*y,T=m*b,w=f+z+T,P=0;return w>0?(P=Math.sqrt(w+1)*2,r[3]=.25*P,r[0]=(E-O)/P,r[1]=(L-d)/P,r[2]=(A-R)/P):f>z&&f>T?(P=Math.sqrt(1+f-z-T)*2,r[3]=(E-O)/P,r[0]=.25*P,r[1]=(A+R)/P,r[2]=(L+d)/P):z>T?(P=Math.sqrt(1+z-f-T)*2,r[3]=(L-d)/P,r[0]=(A+R)/P,r[1]=.25*P,r[2]=(E+O)/P):(P=Math.sqrt(1+T-f-z)*2,r[3]=(A-R)/P,r[0]=(L+d)/P,r[1]=(E+O)/P,r[2]=.25*P),r}function R1(r,e,n,a){var v=e[0],i=e[1],s=e[2],x=e[3],c=v+v,M=i+i,h=s+s,p=v*c,m=v*M,l=v*h,y=i*M,b=i*h,f=s*h,A=x*c,d=x*M,R=x*h,z=a[0],E=a[1],L=a[2];return r[0]=(1-(y+f))*z,r[1]=(m+R)*z,r[2]=(l-d)*z,r[3]=0,r[4]=(m-R)*E,r[5]=(1-(p+f))*E,r[6]=(b+A)*E,r[7]=0,r[8]=(l+d)*L,r[9]=(b-A)*L,r[10]=(1-(p+y))*L,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function A1(r,e,n,a,v){var i=e[0],s=e[1],x=e[2],c=e[3],M=i+i,h=s+s,p=x+x,m=i*M,l=i*h,y=i*p,b=s*h,f=s*p,A=x*p,d=c*M,R=c*h,z=c*p,E=a[0],L=a[1],O=a[2],T=v[0],w=v[1],P=v[2],N=(1-(b+A))*E,I=(l+z)*E,C=(y-R)*E,S=(l-z)*L,Y=(1-(m+A))*L,D=(f+d)*L,G=(y+R)*O,U=(f-d)*O,W=(1-(m+b))*O;return r[0]=N,r[1]=I,r[2]=C,r[3]=0,r[4]=S,r[5]=Y,r[6]=D,r[7]=0,r[8]=G,r[9]=U,r[10]=W,r[11]=0,r[12]=n[0]+T-(N*T+S*w+G*P),r[13]=n[1]+w-(I*T+Y*w+U*P),r[14]=n[2]+P-(C*T+D*w+W*P),r[15]=1,r}function P1(r,e){var n=e[0],a=e[1],v=e[2],i=e[3],s=n+n,x=a+a,c=v+v,M=n*s,h=a*s,p=a*x,m=v*s,l=v*x,y=v*c,b=i*s,f=i*x,A=i*c;return r[0]=1-p-y,r[1]=h+A,r[2]=m-f,r[3]=0,r[4]=h-A,r[5]=1-M-y,r[6]=l+b,r[7]=0,r[8]=m+f,r[9]=l-b,r[10]=1-M-p,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function d1(r,e,n,a,v,i,s){var x=1/(n-e),c=1/(v-a),M=1/(i-s);return r[0]=i*2*x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i*2*c,r[6]=0,r[7]=0,r[8]=(n+e)*x,r[9]=(v+a)*c,r[10]=(s+i)*M,r[11]=-1,r[12]=0,r[13]=0,r[14]=s*i*2*M,r[15]=0,r}function X(r,e,n,a,v){var i=1/Math.tan(e/2);if(r[0]=i/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0){var s=1/(a-v);r[10]=(v+a)*s,r[14]=2*v*a*s}else r[10]=-1,r[14]=-2*a;return r}var T1=X;function S1(r,e,n,a,v){var i=1/Math.tan(e/2);if(r[0]=i/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0){var s=1/(a-v);r[10]=v*s,r[14]=v*a*s}else r[10]=-1,r[14]=-a;return r}function O1(r,e,n,a){var v=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),x=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+x),M=2/(v+i);return r[0]=c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=M,r[6]=0,r[7]=0,r[8]=-((s-x)*c*.5),r[9]=(v-i)*M*.5,r[10]=a/(n-a),r[11]=-1,r[12]=0,r[13]=0,r[14]=a*n/(n-a),r[15]=0,r}function Z(r,e,n,a,v,i,s){var x=1/(e-n),c=1/(a-v),M=1/(i-s);return r[0]=-2*x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*M,r[11]=0,r[12]=(e+n)*x,r[13]=(v+a)*c,r[14]=(s+i)*M,r[15]=1,r}var w1=Z;function N1(r,e,n,a,v,i,s){var x=1/(e-n),c=1/(a-v),M=1/(i-s);return r[0]=-2*x,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=M,r[11]=0,r[12]=(e+n)*x,r[13]=(v+a)*c,r[14]=i*M,r[15]=1,r}function I1(r,e,n,a){var v,i,s,x,c,M,h,p,m,l,y=e[0],b=e[1],f=e[2],A=a[0],d=a[1],R=a[2],z=n[0],E=n[1],L=n[2];return Math.abs(y-z)<F&&Math.abs(b-E)<F&&Math.abs(f-L)<F?V(r):(h=y-z,p=b-E,m=f-L,l=1/Math.sqrt(h*h+p*p+m*m),h*=l,p*=l,m*=l,v=d*m-R*p,i=R*h-A*m,s=A*p-d*h,l=Math.sqrt(v*v+i*i+s*s),l?(l=1/l,v*=l,i*=l,s*=l):(v=0,i=0,s=0),x=p*s-m*i,c=m*v-h*s,M=h*i-p*v,l=Math.sqrt(x*x+c*c+M*M),l?(l=1/l,x*=l,c*=l,M*=l):(x=0,c=0,M=0),r[0]=v,r[1]=x,r[2]=h,r[3]=0,r[4]=i,r[5]=c,r[6]=p,r[7]=0,r[8]=s,r[9]=M,r[10]=m,r[11]=0,r[12]=-(v*y+i*b+s*f),r[13]=-(x*y+c*b+M*f),r[14]=-(h*y+p*b+m*f),r[15]=1,r)}function C1(r,e,n,a){var v=e[0],i=e[1],s=e[2],x=a[0],c=a[1],M=a[2],h=v-n[0],p=i-n[1],m=s-n[2],l=h*h+p*p+m*m;l>0&&(l=1/Math.sqrt(l),h*=l,p*=l,m*=l);var y=c*m-M*p,b=M*h-x*m,f=x*p-c*h;return l=y*y+b*b+f*f,l>0&&(l=1/Math.sqrt(l),y*=l,b*=l,f*=l),r[0]=y,r[1]=b,r[2]=f,r[3]=0,r[4]=p*f-m*b,r[5]=m*y-h*f,r[6]=h*b-p*y,r[7]=0,r[8]=h,r[9]=p,r[10]=m,r[11]=0,r[12]=v,r[13]=i,r[14]=s,r[15]=1,r}function F1(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"}function Y1(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8]+r[9]*r[9]+r[10]*r[10]+r[11]*r[11]+r[12]*r[12]+r[13]*r[13]+r[14]*r[14]+r[15]*r[15])}function B1(r,e,n){return r[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r[3]=e[3]+n[3],r[4]=e[4]+n[4],r[5]=e[5]+n[5],r[6]=e[6]+n[6],r[7]=e[7]+n[7],r[8]=e[8]+n[8],r[9]=e[9]+n[9],r[10]=e[10]+n[10],r[11]=e[11]+n[11],r[12]=e[12]+n[12],r[13]=e[13]+n[13],r[14]=e[14]+n[14],r[15]=e[15]+n[15],r}function Q(r,e,n){return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],r[3]=e[3]-n[3],r[4]=e[4]-n[4],r[5]=e[5]-n[5],r[6]=e[6]-n[6],r[7]=e[7]-n[7],r[8]=e[8]-n[8],r[9]=e[9]-n[9],r[10]=e[10]-n[10],r[11]=e[11]-n[11],r[12]=e[12]-n[12],r[13]=e[13]-n[13],r[14]=e[14]-n[14],r[15]=e[15]-n[15],r}function q1(r,e,n){return r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*n,r[9]=e[9]*n,r[10]=e[10]*n,r[11]=e[11]*n,r[12]=e[12]*n,r[13]=e[13]*n,r[14]=e[14]*n,r[15]=e[15]*n,r}function D1(r,e,n,a){return r[0]=e[0]+n[0]*a,r[1]=e[1]+n[1]*a,r[2]=e[2]+n[2]*a,r[3]=e[3]+n[3]*a,r[4]=e[4]+n[4]*a,r[5]=e[5]+n[5]*a,r[6]=e[6]+n[6]*a,r[7]=e[7]+n[7]*a,r[8]=e[8]+n[8]*a,r[9]=e[9]+n[9]*a,r[10]=e[10]+n[10]*a,r[11]=e[11]+n[11]*a,r[12]=e[12]+n[12]*a,r[13]=e[13]+n[13]*a,r[14]=e[14]+n[14]*a,r[15]=e[15]+n[15]*a,r}function G1(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]&&r[8]===e[8]&&r[9]===e[9]&&r[10]===e[10]&&r[11]===e[11]&&r[12]===e[12]&&r[13]===e[13]&&r[14]===e[14]&&r[15]===e[15]}function U1(r,e){var n=r[0],a=r[1],v=r[2],i=r[3],s=r[4],x=r[5],c=r[6],M=r[7],h=r[8],p=r[9],m=r[10],l=r[11],y=r[12],b=r[13],f=r[14],A=r[15],d=e[0],R=e[1],z=e[2],E=e[3],L=e[4],O=e[5],T=e[6],w=e[7],P=e[8],N=e[9],I=e[10],C=e[11],S=e[12],Y=e[13],D=e[14],G=e[15];return Math.abs(n-d)<=F*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-R)<=F*Math.max(1,Math.abs(a),Math.abs(R))&&Math.abs(v-z)<=F*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(i-E)<=F*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(s-L)<=F*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(x-O)<=F*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(c-T)<=F*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(M-w)<=F*Math.max(1,Math.abs(M),Math.abs(w))&&Math.abs(h-P)<=F*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-N)<=F*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(m-I)<=F*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(l-C)<=F*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(y-S)<=F*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(b-Y)<=F*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(f-D)<=F*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(A-G)<=F*Math.max(1,Math.abs(A),Math.abs(G))}var W1=g,V1=Q;function K1(r,e,n,a,v){r.clearColor(1,1,1,1),r.clearDepth(1),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);let i=45*Math.PI/180;var s,x;r.canvas instanceof HTMLCanvasElement?(s=r.canvas.clientWidth,x=r.canvas.clientHeight):(s=r.canvas.width,x=r.canvas.height);let c=s/x,M=.1,h=100,p=B.create();B.perspective(p,i,c,M,h);let m=B.create();B.translate(m,m,[-0,0,-6]),B.rotate(m,m,v.z,[0,0,1]),B.rotate(m,m,v.y,[0,1,0]),B.rotate(m,m,v.x,[1,0,0]),g1(r,n,e),j1(r,n,e),H1(r,n,e),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n.indices),r.useProgram(e.program),r.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,p),r.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,m),a&&(r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a),r.uniform1i(e.uniformLocations.uSampler,0));{let y=r.UNSIGNED_SHORT;r.drawElements(r.TRIANGLES,36,y,0)}}function g1(r,e,n){let v=r.FLOAT,i=!1,s=0,x=0;r.bindBuffer(r.ARRAY_BUFFER,e.position),r.vertexAttribPointer(n.attribLocations.vertexPosition,3,v,i,s,x),r.enableVertexAttribArray(n.attribLocations.vertexPosition)}function j1(r,e,n){let v=r.FLOAT,i=!1,s=0,x=0;r.bindBuffer(r.ARRAY_BUFFER,e.color),r.vertexAttribPointer(n.attribLocations.vertexColor,4,v,i,s,x),r.enableVertexAttribArray(n.attribLocations.vertexColor)}function H1(r,e,n){let v=r.FLOAT,i=!1,s=0,x=0;r.bindBuffer(r.ARRAY_BUFFER,e.textureCoord),r.vertexAttribPointer(n.attribLocations.textureCoord,2,v,i,s,x),r.enableVertexAttribArray(n.attribLocations.textureCoord)}export{K1 as drawScene};
